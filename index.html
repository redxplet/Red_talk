<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ุชุณุฌูู ุงูุฏุฎูู - RED TALK</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ... (ููุณ ุงูุชูุณูู ุงูุฐู ุฃุฑุณูุชู) ... */
  </style>
</head>
<body>

  <main class="login-container" role="main" aria-label="ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู">
    <div class="logo" aria-label="ุดุนุงุฑ RED TALK">RED TALK</div>
    <h2>ุชุณุฌูู ุงูุฏุฎูู</h2>

    <div class="input-group">
      <input
        type="email"
        id="email"
        aria-label="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู"
        placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู"
        autocomplete="email"
        required
      />
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
      </svg>
      <div id="email-error" class="error-message">ูุฑุฌู ุฅุฏุฎุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</div>
    </div>

    <div class="input-group" style="position: relative;">
      <input
        type="password"
        id="password"
        aria-label="ูููุฉ ุงููุฑูุฑ"
        placeholder="ูููุฉ ุงููุฑูุฑ"
        autocomplete="current-password"
        required
      />
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M12 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm6-5v-3a6 6 0 1 0-12 0v3H4v10h16V12h-2zm-8-3a4 4 0 1 1 8 0v3H10v-3z"/>
      </svg>
      <button
        type="button"
        class="toggle-password"
        aria-label="ุฅุธูุงุฑ ุฃู ุฅุฎูุงุก ูููุฉ ุงููุฑูุฑ"
        onclick="togglePassword()"
        tabindex="-1"
        title="ุฅุธูุงุฑ/ุฅุฎูุงุก ูููุฉ ุงููุฑูุฑ"
      >๐๏ธ</button>
      <div id="password-error" class="error-message">ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ</div>
    </div>

    <button class="login-btn" onclick="login()" aria-label="ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู">
      ุฏุฎูู
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M10 17l5-5-5-5v10z"/>
      </svg>
    </button>

    <p class="signup-text" aria-label="ุฑุงุจุท ุฅูุดุงุก ุญุณุงุจ">
      ููุณ ูุฏูู ุญุณุงุจุ <a href="signin.html">ุฅูุดุงุก ุญุณุงุจ</a>
    </p>
  </main>

  <!-- ุฅุถุงูุฉ Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <script>
    // ุฅุนุฏุงุฏ Firebase (ุงุณุชุจุฏู ุงูุฅุนุฏุงุฏุงุช ุงูุฎุงุตุฉ ุจู ููุง)
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // ุชููุฆุฉ Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function showError(id, show, message = '') {
      const el = document.getElementById(id);
      el.textContent = message || el.textContent;
      el.style.display = show ? 'block' : 'none';
    }

    function togglePassword() {
      const passInput = document.getElementById('password');
      if (passInput.type === 'password') {
        passInput.type = 'text';
      } else {
        passInput.type = 'password';
      }
    }

    function login() {
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();

      let valid = true;

      if (!email) {
        showError('email-error', true, 'ูุฑุฌู ุฅุฏุฎุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู');
        valid = false;
      } else {
        showError('email-error', false);
      }

      if (!password) {
        showError('password-error', true, 'ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ');
        valid = false;
      } else {
        showError('password-error', false);
      }

      if (!valid) return;

      // ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู Firebase Auth
      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          // ุชุณุฌูู ุงูุฏุฎูู ูุงุฌุญ
          const user = userCredential.user;
          alert(`ูุฑุญุจุงูุ ${user.email}! ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ.`);
          // ููุง ููููู ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฃู ุชูููุฐ ุฅุฌุฑุงุกุงุช ุฃุฎุฑู
          // ูุซูุง: window.location.href = "dashboard.html";
        })
        .catch((error) => {
          // ุญุฏุซ ุฎุทุฃ ูู ุชุณุฌูู ุงูุฏุฎูู
          const errorCode = error.code;
          let message = 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุณุฌูู ุงูุฏุฎูู.';
          if (errorCode === 'auth/user-not-found' || errorCode === 'auth/wrong-password') {
            message = 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ.';
          } else if (errorCode === 'auth/invalid-email') {
            message = 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุงูุญ.';
          }
          showError('password-error', true, message);
        });
    }
  </script>

</body>
</html>
